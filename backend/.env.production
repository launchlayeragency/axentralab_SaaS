# Production Environment Configuration for Axentralab Backend

# ===== DATABASE =====
# Set this via Railway/Render environment variables or your hosting platform
DATABASE_URL="postgresql://user:password@host:5432/axentralab?schema=public"

# ===== SERVER =====
PORT=3001
NODE_ENV="production"

# ===== JWT AUTHENTICATION =====
# CRITICAL: Generate a strong random secret (use: openssl rand -base64 32)
JWT_SECRET="YOUR_SUPER_SECRET_JWT_KEY_CHANGE_THIS_IMMEDIATELY"
JWT_EXPIRES_IN="7d"

# ===== FRONTEND URL =====
# Set to your actual frontend domain
FRONTEND_URL="https://app.yourdomain.com"

# ===== STRIPE PAYMENT INTEGRATION =====
# Get these from Stripe Dashboard → Developers → API Keys
STRIPE_SECRET_KEY="sk_live_YOUR_LIVE_SECRET_KEY"
STRIPE_WEBHOOK_SECRET="whsec_YOUR_WEBHOOK_SECRET"
STRIPE_STARTER_PRICE_ID="price_YOUR_STARTER_ID"
STRIPE_PRO_PRICE_ID="price_YOUR_PRO_ID"
STRIPE_AGENCY_PRICE_ID="price_YOUR_AGENCY_ID"

# ===== EMAIL SERVICE =====
# Option 1: USE RESEND (Recommended - easiest)
RESEND_API_KEY="re_YOUR_RESEND_API_KEY"

# Option 2: USE SMTP (Gmail, SendGrid, etc.)
# Uncomment and configure if not using Resend
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER="your-email@gmail.com"
# SMTP_PASSWORD="your-app-specific-password"
# SMTP_FROM="Axentralab <noreply@axentralab.com>"

# ===== S3 / CLOUD STORAGE (For Backups) =====
# Choose one: AWS S3, Wasabi, Backblaze B2, or similar
S3_ACCESS_KEY_ID="YOUR_S3_ACCESS_KEY"
S3_SECRET_ACCESS_KEY="YOUR_S3_SECRET_KEY"
S3_BUCKET="axentralab-backups"
S3_REGION="us-east-1"

# Set endpoint for non-AWS providers:
# Wasabi: https://s3.wasabisys.com
# Backblaze B2: https://s3.us-west-004.backblazeb2.com
# AWS S3: https://s3.amazonaws.com (default)
S3_ENDPOINT="https://s3.amazonaws.com"

# ===== MONITORING SETTINGS =====
# Interval in seconds (300 = 5 minutes)
MONITORING_INTERVAL_SECONDS=300
MONITORING_TIMEOUT_SECONDS=30

# ===== BACKUP SETTINGS =====
# How many days to keep backups (delete older ones)
BACKUP_RETENTION_DAYS=30
# Cron schedule (0 2 = 2 AM UTC daily)
BACKUP_SCHEDULE="0 2 * * *"

# ===== REDIS (For Job Queues) =====
# For Railway: use platform-provided REDIS_URL
# For Render: deploy Redis add-on
# For VPS: self-hosted Redis
REDIS_URL="redis://localhost:6379"

# ===== JOB QUEUE SETTINGS =====
JOB_ATTEMPTS=3
JOB_BACKOFF_MS=5000
MONITOR_WORKER_CONCURRENCY=5
BACKUP_WORKER_CONCURRENCY=2

# ===== SECURITY SCANNING (Optional) =====
# Get free API key from: https://www.virustotal.com/gui/my-apikey
# Leave blank to skip VirusTotal checks (basic security scans will still run)
VIRUSTOTAL_API_KEY="YOUR_VIRUSTOTAL_API_KEY"

# ===== SMS ALERTS (Optional - Twilio) =====
# Get credentials from: https://www.twilio.com/console
# Leave blank to skip SMS alerts
# TWILIO_ACCOUNT_SID="YOUR_ACCOUNT_SID"
# TWILIO_AUTH_TOKEN="YOUR_AUTH_TOKEN"
# TWILIO_PHONE_NUMBER="+1234567890"

# ===== LOGGING & MONITORING (Optional) =====
# For production, enable detailed logging:
# LOG_LEVEL="debug"
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
